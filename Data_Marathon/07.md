# 7. Финальное задание

## Содержание

+ [7.1 Обзор продуктовых и маркетинговых метрик](#71-обзор-продуктовых-и-маркетинговых-метрик)
+ [7.2 SQL: считаем метрики](#72-sql-считаем-метрики)
+ [7.3 Python: считаем метрики](#73-python-считаем-метрики)
+ [7.4 Итоги курса](#74-итоги-курса)

[Оглавление](/Data_Marathon/README.md)


# 7.1 Обзор продуктовых и маркетинговых метрик

В предыдущих уроках Вы познакомились с SQL и Python – инструментами работы аналитика. Теперь давайте рассмотрим основные продуктовые и маркетинговые метрики.
**Продуктовые и маркетинговые метрики** –  показатели, которые помогают компании анализировать успех своего продукта. 

Представим, что компания выпустила игру. При этом, чтобы привлечь пользователей, нужно провести рекламную кампанию. Так как же понять, что каналы привлечения пользователей были выбраны правильно? Именно для этого и используются различные метрики.

![07](/Data_Marathon/img/07_01.png)

**LTV (Lifetime Value)** — вся прибыль от клиента за период, пока вы с ним работаете. Суть метрики — показать, оправданы ли затраты на привлечение и удержание такого клиента.

С помощью LTV можно:

1. определить, какой тип клиентов приносит максимальную прибыль, а затем более целенаправленно проводить рекламную кампанию
2. посчитать, насколько быстро окупятся затраты
3. проанализировать эффективность маркетинговой стратегии и определить, через какой канал приходит больше клиентов, а следовательно, сократить затраты на неэффективную рекламу.

![07](/Data_Marathon/img/07_02.png)

`CAC (Customer Acquisition Cost)` — стоимость привлечения одного клиента. Эта метрика помогает выбрать наиболее результативный канал привлечения клиентов и правильно распределить бюджет. CAC считается так: расходы нужно поделить на количество пользователей.

``Разберем пример:``
Реклама на Google Ads стоила компании 42 000 руб. И привела 300 пользователей.<br>
Реклама на Facebook стоила компании 70 000 руб. И привела 650 пользователей.<br>
Для Google Ads CAC = 42 000 / 300 = 140 руб.<br>
Для Facebook CAC = 70 000 / 650 = 107,69 руб.<br>
По показателям CAC видно, что стоимость привлечения клиента через Facebook ниже, значит Facebook – более выгодная рекламная площадка для компании. В результате компания может перераспределить свой бюджет и выделить большую сумму на развитие рекламы именно на этой платформе.

![07](/Data_Marathon/img/07_03.png)

**AOV (Average Order Value)** – средний чек, то есть сумма, которую в среднем тратят клиенты. Средний чек показывает, какая покупательская способность у аудитории. С помощью этого показателя можно выделить группу клиентов, у которых AOV выше, что делает её выгоднее для бизнеса, и направить рекламную кампанию именно на эту группу. Средний чек считается так: сумму полученной выручки нужно поделить на количество заказов (покупок).

![07](/Data_Marathon/img/07_04.png)

**ARPU (Average Revenue Per User)** – средний доход с одного **активного** пользователя за период. ARPU рассчитывается как доход, деленный на количество пользователей. Период может быть любым. Mожно анализировать значение этого показателя за день, за месяц, за квартал и т.д., в зависимости от постановки задачи.

**ARPPU (Average Revenue Per Paying User)** – средний доход с одного **платящего** пользователя за период. 
Как видно из определения, отличие ARPPU заключается в том, что в расчёт попадают не все пользователи, а только те, кто совершал платежи в течение периода.

**Разберем пример**<br>
Допустим, у Вас есть 1 000 пользователей, и 200 из них платят. Ваш общий доход за месяц равен 40 000 руб.
Таким образом, ARPU за месяц = 40 000/1 000 = 40. Один активный пользователь приносит Вам в среднем 40 руб. в месяц.
ARPPU же будет равен 40 000/200 = 200. То есть один платящий пользователь приносит 200 руб. за месяц.

<hr>

[Содержание](#содержание)

# 7.2 SQL: считаем метрики

Ура! Вы кратко познакомились с основными продуктовыми и маркетинговыми метриками, а теперь давайте скорее примерять на себя роль настоящих продуктовых аналитиков и рассчитывать показатели `ARPU`, `ARPPU`, `AOV` с помощью SQL.

Для этого будем использовать уже знакомую нам таблицу game_events.

Сперва посчитаем ARPU. Напомним, что ARPU (Average Revenue Per User) это средний доход с одного активного пользователя за период. Чтобы посчитать ARPU, нужно общий доход, т.е. сумму всех внутриигровых покупок пользователей, поделить на количество пользователей. Считать показатель будем за всё время.
Назовите столбец arpu.

Вам понадобятся столбцы revenue и user_id из таблицы game_events.

<hr>

[Содержание](#содержание)

# 7.3 Python: считаем метрики

Вы успешно справились с подсчетом продуктовых метрик с помощью SQL и уже на финишной прямой!

Помните, мы упоминали, что зачастую выбор инструмента для анализа данных зависит не только от поставленных задач, но и от принятых подходов работы в компании? Поэтому давайте теперь рассчитаем показатели ARPU, ARPPU, AOV с помощью Python. 

Сперва посчитаем ARPU. Напомним, что для этого нужно общий доход, т.е. сумму всех внутриигровых покупок пользователей, поделить на количество пользователей. Считать показатель будем за всё время.

В переменную arpu сохраните результат вычисления данных из датафрейма game_events: сумма внутриигровых покупок пользователей / количество пользователей. Для этого Вам потребуется посчитать 'revenue' с помощью sum() и 'user_id' с помощью nunique().

Для просмотра данных добавьте в программу строку print(arpu) и нажмите «Запустить код».

```python
import pandas as pd
revenue_sum = game_events['revenue'].sum()
user_id_count = game_events['user_id'].nunique()
arpu = revenue_sum / user_id_count
print(arpu)
```

Теперь на основе предыдущего запроса посчитаем **ARPPU**: для расчета берем не всех пользователей, а только платящих. 

Сперва в переменную `game_events_filtered` сохраните отфильтрованные данные из датафрейма `game_events`, где  `revenue` больше 0. Так мы получим данные только по платящим пользователям.
Затем  в переменную `arppu` сохраните результат вычисления метрики:  сумма внутриигровых покупок пользователей / количество платящих пользователей. 

Метод sum() примените к столбцу 'revenue' из датасета game_events, а функцию nunique() нужно применить к столбцу 'user_id' уже из датасета с отфильтрованными данными.

Для просмотра данных добавьте в программу строку `print(arppu)` и нажмите «Запустить код».


```python
import pandas as pd
revenue_sum = game_events['revenue'].sum()
game_events_filtered = game_events[game_events['revenue'] > 0]
paid_users_count = game_events_filtered['user_id'].nunique()
arppu = revenue_sum / paid_users_count
print(arppu)
```

Осталось только проверить покупательскую способность пользователей, т.е. посчитать средний чек. Для подсчета AOV можно воспользоваться функцией mean(), применив ее к столбцу revenue из датафрейма game_events.

Результат вычисления сохраните в переменную aov.

Для просмотра данных добавьте в программу строку print(aov) и нажмите «Запустить код».

```python
import pandas as pd
aov = game_events['revenue'].mean()
print(aov)
```

<hr>

[Содержание](#содержание)

# 7.4 Итоги курса

![05](/Data_Marathon/img/07_05.png)

Поздравляем с успешным завершением стажировки в компании Valiotti Analytics! Надеемся, что она была одновременно увлекательной и полезной, а также дала вам общее понимание специфики профессии аналитика данных.

Вы познакомились с:

Основами SQL – научились делать выборку данных по условию, изучили агрегирующие функции, группировку данных; 

Основами Python – узнали о переменных и типах данных, библиотеке pandas, научились фильтровать и агрегировать данные в таблицах.

Базовыми продуктовыми метриками – изучили основные продуктовые метрики (LTV, CAC, AOV, ARPU, ARPPU), а также посчитали часть из них на реальных данных игровой компании. 

Нам очень важно ваше мнение, поэтому мы просим вас заполнить [форму обратной связи](https://docs.google.com/forms/d/e/1FAIpQLScvz1yLsGFWuQ1oUWd6SXvsduDdUMu9wDHThKD5xkuTwywXCA/viewform?usp=sharing), это займет всего несколько минут. 

![05](/Data_Marathon/img/07_06.png)

Пройдя наш курс «Data Марафон», Вы примерили на себя профессию аналитика. В реальной компании, посчитав продуктовые метрики (AOV, ARPU, ARPPU) и проанализировав данные пользователей игры, вы сможете смело идти к своему руководителю и рассказывать о выводах, которые смогли сделать: сколько человек пользуются игрой, сколько игроков доходит до самого сложного уровня, в какие даты было больше всего внутриигровых покупок, сколько денег в среднем тратят клиенты на покупки и какой получается доход с одного пользователя. Благодаря этим знаниям, разработчики смогут усовершенствовать механику игры, усложнив или упростив определенные уровни, маркетологи смогут понять, какие из рекламных кампаний были более успешными, а сотрудники отдела продаж смогут спрогнозировать будущую прибыль. 

Наш курс представляет собой лишь небольшое введение в профессию, поэтому если Вам понравилось анализировать данные, работать с такими инструментами как SQL и Python, и вы хотите расширить свои знания в этой области, скорее жмите на кнопки и подписывайтесь на наш Telegram-канал [LEFT JOIN](https://t.me/leftjoin), в котором мы публикуем интересные заметки и новости мира IT и аналитики.

![05](/Data_Marathon/img/07_07.png)

А если вы хотите дальше погружаться в специфику профессии «Аналитик данных», слушайте наш [подкаст Data Heroes](http://data-heroes.ru/), который доступен на всех мыслимых и немыслимых платформах:

![05](/Data_Marathon/img/07_08.png)

![05](/Data_Marathon/img/07_09.png)

Совсем скоро мы запустим еще 2 обучающих курса: **«Базовый SQL для аналитиков»** и **«Продвинутый SQL для аналитиков»**.
На **базовом курсе SQL** для аналитиков вы подробно изучите выборку данных по условию, агрегирующие функции и группировку данных, соединение нескольких таблиц. И все это на примере реальных бизнес-задач!

На **продвинутом курсе по SQL** вы научитесь создавать и редактировать таблицы, использовать подзапросы, изучите функции для работы со строками, числами и датой. Познакомитесь с аналитическими функциями и посчитаете продуктовые метрики, углубите знания в соединениях таблиц, а также изучите очень хитрые, но важные для работы аналитика оконные функции.

Если вы хотите первыми узнать о следующих запусках наших проектов, то заполните простую форму и мы отправим вам письмо, когда новые курсы будут доступны! 

А также анонсы курсов также будут в Telegram-канале — присоединяйтесь!

<hr>

[Содержание](#содержание)