# 5. Знакомство с Python

## Содержание

+ [5.1 Введение в Python: переменные и типы данных](#51-введение-в-python-переменные-и-типы-данных)
+ [5.2 Задача: планирование бюджета командировки](#52-задача-планирование-бюджета-командировки)
+ [5.3 Pandas: фильтрация данных](#53-pandas-фильтрация-данных)
+ [5.4 Pandas: агрегация данных](#54-pandas-агрегация-данных)

[Оглавление](/Data_Marathon/README.md)

# 5.1 Введение в Python: переменные и типы данных

SQL, с которым мы уже познакомились — это язык запросов, созданный для взаимодействия с базами данных. То есть для работы с SQL должна существовать некоторая база данных, в которую мы можем **обратиться**, для того, чтобы получить ту или иную информацию. Именно поэтому он называется языком запросов.

Несмотря на то, что с помощью SQL с данными можно сделать многое, в работе аналитика часто встречаются задачи, для решения которых возможностей SQL недостаточно. К примеру, бывает нужно построить график о выручке за каждый день на основе данных. SQL предоставляет возможность эти самые данные получить или посчитать, но сам график построить никак не получится. Или если базы данных вообще не существует, а существуют только файлы с данными в таблицах Excel, то SQL с этим тоже не справится.

Что же тогда делать? В таких случаях аналитики пользуются языками программирования, позволяющими решать задачи, связанные не только с обработкой данных, хранящихся в таблицах. Одним из самых широко используемых языков в аналитике является Python. В шестом модуле, после того как вы изучите основы этого языка программирования, мы более подробно разберем разницу между SQL и Python на примере из жизни команды **Valiotti Analytics**.

**Пример из жизни команды Valiotti Analytics**

Когда команда Valiotti Analytics создавала комьюнити [Cyprus Data](https://t.me/cyprusdatanews/8), перед нами стояла задача, которую было невозможно решить с помощью SQL: аналитическим путем найти целевую аудиторию и пригласить в Cyprus Data Chat. О самой задаче и ее решении можете почитать [в презентации](https://docs.google.com/presentation/d/1vet-WWuFuJXyeM3glc6FUA_JITMKQlg-/edit#slide=id.p1), а о дальнейшем развитии истории [в телеграме](https://t.me/leftjoin/838). В дальнейшем мы еще вернемся к этой задаче, чтобы немного подробнее поговорить о ней. 

Своей популярностью Python обязан в первую очередь простому (по сравнению с другими языками) синтаксису и большому количеству отличных и бесплатных библиотек (о них мы поговорим в следующих уроках). Например, чтобы вывести на экран фразу "Привет, мир!" в языке программирования JAVA необходимо написать 5 строчек кода, тогда как в Python достаточно всего одной! Давайте посмотрим как это выглядит. 

![05](/Data_Marathon/img/05_01.png)

Попробуйте выполнить свою первую программу в Python. Скопируйте в поле ниже строку и нажмите «Отправить», чтобы выполнить задание. Чтобы посмотреть вывод программы нажмите «Запустить код». [Здесь](https://stepik.org/lesson/736931/step/5?unit=738530) вы можете подробнее прочитать, как работать с такими заданиями.

```python
print('Привет, мир!')
```

>В отличие от SQL Python чувствителен к пробелам и отступам в начале строки. Не ставьте лишние пробелы в начале строки. Перенос строки делайте с помощью кнопки Enter. Если Вы получили синтаксическую ошибку с указанием некорректного места, проверьте, нет ли в указаном месте лишнего пробела.

Теперь давайте подробнее остановимся на том, что же такое язык программирования (ЯП) и зачем он нужен? 

В первую очередь, ЯП необходим для написания **алгоритмов**. Языки программирования придумывались для того, чтобы быстрее производить расчеты и делегировать ручную рутинную работу машине. SQL же является **языком запросов к базам данных** и нужен только для обработки данных в таблицах. 

Приведем пример такой рутинной работы. Перед нами стоит задача: рассчитать стоимость отпуска, чтобы запланировать бюджет. Как можно произвести такие расчеты? 

1. Первый способ – все в записной книжке.
    + Записать стоимость билетов, аренды жилья, транспорта, предполагаемые расходы на еду и т.д. Все необходимые расчеты произвести так же на листочке. И, согласно рассчитанной стоимости поездки, планировать бюджет. При любых изменениях в ценах придется пересчитывать все вручную и, возможно, тратить на это много времени.
2. Второй способ – заметки в телефоне + калькулятор. 
    + Суть аналогичная: все расходы заносим в заметки для фиксации, на основании них в калькуляторе производим необходимые расчеты. В этом способе мы прибегли к некоторому элементу автоматизации – калькулятор снял с нас задачу что-либо считать вручную, но при изменении любого слагаемого придется пересчитывать все заново. Конечно, не вручную, но какое-то время это займет.
3. Третий способ – написать небольшой код, который считает все самостоятельно. 
    + В этом способе нам необходимо записать все значения в переменные и задать формулу расчета. При любых изменениях достаточно всего лишь поменять соответствующие цифры и запустить код, что минимизирует время на любой перерасчет. Если перед вами стоит опция сравнения нескольких локаций для отпуска, то это идеальный вариант, потому что время на расчеты и изменения здесь минимальное. Вам лишь нужно будет потратить немного времени на то, чтобы написать сам код. А если вы достаточно хорошо умеете программировать, можно научить ваш код отслеживать изменения цен в режиме реального времени. В таком случае вы получите выгоду не только во времени, но уже и в деньгах. Неплохо, правда?  

**Давайте начнем наш путь в изучении Python!**

![05](/Data_Marathon/img/05_02.png)

Как мы говорили на предыдущем уроке, для работы с данными в языках программирования используются переменные. Мы можем упрощенно рассматривать переменные как некие контейнеры или ячейки, в которые можно сложить информацию. Эта информация может быть строкой текста, числом или иметь более сложный тип (об этом поговорим на пару степов позже). В Python переменные создаются в момент присваивания (приравнивания) им какого-либо значения.

Чтобы создать переменную, необходимо придумать ей имя и задать значение с помощью знака равно. К примеру, `value = 5`. Это называется «объявить» переменную. 

Необходимо учитывать, что при объявлении переменных регистр имеет значение. То есть `Value = 5` – уже совсем другая переменная, даже несмотря на то, что в ней лежит та же цифра. Давайте проверим это.

Скопируйте код ниже и проверьте результат. 

```python
value = 5
Value = 1
print(value, Value)
```

Имена переменных в Python могут содержать буквы, цифры и знак подчеркивания и не должны начинаться с цифры. Добавим, что переменным лучше давать «говорящие» имена, то есть такие, которые сразу дают понять, что за значение хранится в переменной. 

Для просмотра вывода программы нажмите «Запустить код».

![05](/Data_Marathon/img/05_03.png)

В Python существуют свои типы данных, давайте рассмотрим некоторые из них: 

1. `Integer` – целые числа <br>
Объявляется как `num_variable = 5`
2. `Float` – дробные числа <br>
Объявляется как  `float_variable = 2.5`
3. `String` – строки (последовательность символов)<br>
Объявляется как `string_variable = '5'
`
Значение всегда пишется в кавычках (одинарных или двойных)
Чтобы проверить, какого типа данных та или иная переменная, можно использовать функцию `type()`.

![05](/Data_Marathon/img/05_04.png)

Попробуйте запустить пример ниже: 

```python
num_variable = 5
print(type(num_variable))
```

Это вернет Вам значение `<class 'int'>` , в кавычках как раз указан тип данных.<br>
`int` расшифровывается как **integer**.

Для просмотра вывода программы нажмите «Запустить код».

В прошлом степе мы научились проверять тип данных переменных. Теперь давайте более подробно разберемся с функцией `print()`, которую мы уже использовали ранее.

Попробуйте запустить код ниже!

```python
num_variable = 5
print(num_variable, type(num_variable))
```

В этом примере показано, что в функцию `print()` может принимать на вход несколько аргументов*, их необходимо перечислить через запятую для последовательного вывода. Таким образом, в примере мы выводим сначала переменную `num_variable`, а затем ее тип данных.

>**Аргументы функции** — значения, которые заданная функция обрабатывает. Аргументы функции пишутся в круглых скобках после функции.

Для просмотра вывода программы нажмите «Запустить код».

На прошлом шаге вы вывели переменную и её тип данных.

```python
print(num_variable, type(num_variable))
```

При перечислении значений в `print()` они выведутся через пробел:

```
5 <class 'int'>
```

А теперь посмотрите, как будет выглядеть вывод, если мы используем две функции `print()`. Скопируйте код ниже и запустите его:

```python
num_variable = 5
print(num_variable)
print(type(num_variable))
```

Данные отобразятся на разных строках. Функция `print()` в конце имеет перенос строки, из-за этого следующий вывод (для `type(num_variable)`) начинается уже со следующей строки.

Мы узнали, что такое переменные, и познакомились с основными типами данных в Python. Пришло время научиться операциям, которые можно совершать над переменными.
С данными в Python можно проводить математические операции. Давайте начнем с простого и посчитаем сумму двух чисел.

Скопируйте код в поле ниже и нажмите «Отправить»:

```python
a = 3
b = 4
print(a + b)
```

А теперь по аналогии с предыдущим заданием перемножьте числа 3 и 4.

```python
a = 3
b = 4
print(a * b)
```

В программе можно выполнять несколько математических операций подряд. При этом порядок математических операций ровно такой же, как на уроках математики в школе: 

![05](/Data_Marathon/img/05_05.png)

Скобки позволяют явным образом указать последовательность вычислений, например, (3+4)*2
Действия в скобках будут произведены первыми, только затем программа выполнит операцию умножения.

Скопируйте код в поле ниже и нажмите «Отправить»:

```python
a = 3
b = 4
print((a + b)*2)
```

Перейдем к операторам сравнения. В Python их несколько:

![05](/Data_Marathon/img/05_06.png)

Давайте посмотрим, какой результат выдаст программа, если мы сравним два числа.

Скопируйте код в поле ниже и нажмите «Отправить»:

```python
a = 11
b = 5
print(a > b)
```

> В отличии от SQL в питоне сравнение на равенство пишется как «==», так как знак «=»  необходим для объявления переменной.

Всё верно, в Python есть еще один тип данных – логический тип данных `bool`, который имеет всего два значения: `True` (истина) и `False` (ложь). В нашем случае программа выдала `True`, так как 11 действительно больше 5.

![05](/Data_Marathon/img/05_07.png)

Скопируй код, который мы использовали в предыдущем шаге и поменяй знак на '=='. В результате получится `False`, так как тогда наше равенство будет читаться как '11 равно 5', а это неправда.

```python
a = 11
b = 5
print(a > b)
```

```python
a = 11
b = 5
print(a == b)
```

<hr>

[Содержание](#содержание)

# 5.2 Задача: планирование бюджета командировки

<hr>

[Содержание](#содержание)

# 5.3 Pandas: фильтрация данных

<hr>

[Содержание](#содержание)

# 5.4 Pandas: агрегация данных

<hr>

[Содержание](#содержание)