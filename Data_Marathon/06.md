# 6. Подводим промежуточные итоги

## Содержание

+ [6.1 Что мы уже изучили?](#61-что-мы-уже-изучили)

[Оглавление](/Data_Marathon/README.md)

# 6.1 Что мы уже изучили?

![06](/Data_Marathon/img/06_01.png)

Поздравляем! Пройден уже большой путь: давай вспомним, что мы изучили за это время? 

**SQL** 

+ В ходе изучения SQL у нас получилось разобрать, что такое база данных, и мы попробовали написать первые запросы к ней!
+ С помощью таблицы game_events мы научились фильтровать данные, чтобы получать только нужные нам строки.
+ Также мы научились пользоваться оператором DISTINCT, который возвращает только уникальные значения.
+ А еще мы изучили как группировать данные с помощью GROUP BY и вычислять разные агрегации с помощью функций SUM(), MAX(), MIN(), COUNT() и AVG().

**Python**

+ В модуле «Знакомство с Python» мы затронули темы базового синтаксиса языка и типов данных.
+ Мы решили свою первую прикладную задачу – расчет стоимости отпуска, а также посмотрели как можно слегка оптимизировать код и сделать его более переиспользуемым.
+ Далее, мы начали изучать первую библиотеку — pandas, познакомились с форматом данных DataFrame и некоторыми методами, которые позволяют обрабатывать данные в этих самых DataFrame. 

В первом степе «Знакомства с Python» мы кратко упомянули про задачу, которая стояла перед командой Valiotti Analytics при создании комьюнити Cyprus Data.

Теперь, когда мы узнали много нового и про Python, и про SQL, хотелось бы рассмотреть этот пример подробнее. Эта задача как раз относится к тому классу задач, которые невозможно решить с помощью SQL. Здесь стоит взять небольшую паузу, заварить чаю и почитать [в презентации](https://docs.google.com/presentation/d/1vet-WWuFuJXyeM3glc6FUA_JITMKQlg-/edit#slide=id.p1) о том, что именно было нужно сделать.

Давайте подробнее рассмотрим, почему именно SQL не подходит для этой задачи.  

Вы наверняка встретили много незнакомых слов, не пугайтесь, все достаточно просто. Если рассматривать в общем, то задача сводится к трем шагам: 

+ Собрать открытые данные о пользователях разных чатов Telegram. Список чатов был заранее создан вручную. 
+ Обработать данные. По некоторым правилам (описанным в презентации), необходимо исключить тех пользователей, которые нам не подходят и сформировать итоговый список для рассылки. 
+ Заключительный шаг – сама рассылка. 

Где же здесь может применяться SQL, а где Python? Для начала вспомним, что SQL — это язык запросов в базу данных (БД). То есть нам обязательно необходима БД, в которой уже лежат данные и которые мы сможем обработать. В свою очередь Python — язык программирования, для которого создано множество прикладных библиотек. В этой задаче мы использовали две библиотеки: **telethon** – упрощает написание программ на Python для взаимодействия с Telegram и **asyncio** – позволяет писать асинхронный код. 

Итак, шаг первый. Здесь нам может подойти только Python, так как данные о пользователях чатов в Telegram необходимо собирать «извне», то есть мы собираем **не контролируемые нами**, но открытые данные из Интернета. Но, если бы Павел Дуров любезно предоставил бы нам доступ к своим базам данных, то этот шаг мы могли бы решить и с помощью SQL, потому что нам **было бы куда писать запрос**.

Шаг второй — обработка данных. Здесь как раз нам мог бы пригодиться SQL. Данные уже собраны, мы могли бы загрузить их в базу данных и с помощью SQL обработать их. Но мы использовали Python. Почему? Дело в том, что создание БД может занять достаточно много времени. В то же время создать код, который обрабатывает небольшой файл на Python, будет сильно быстрее. Но если бы у нас было намного больше данных и файлов, то перед нами встал бы вопрос **скорости работы кода**. И вот в этом случае SQL был бы однозначно незаменим, потому что базы данных заточены на обработку таблиц разного размера, и большие объемы обработать с помощью SQL получится быстрее. 

Шаг третий — рассылка. SQL тут не подходит, здесь не происходит никакой обработки данных. Был написан шаблон сообщения, который отправлялся разным людям. Отправка сообщений в Telegram с помощью Python делается достаточно просто и быстро. 

В этом модуле мы постарались объяснить вам разницу использования SQL и Python на реальном примере. Надеемся, у вас сложилось понимание, для каких задач больше подходит SQL, а для каких Python. Если у вас еще остались вопросы, пишите их в комментариях, мы постараемся ответить!

В конце презентации  был показан расчёт метрики Conversion rate¹ — процент людей присоединившихся к чату после рассылки. Подсчет и анализ метрик — как раз одна из задач аналитика данных. Мы уже упоминали метрики в начале курса. Теперь давайте познакомимся с ними подробнее и посчитаем некоторые из них с помощью уже изученных нами инструментов — SQL и Python.

1. Conversion Rate (коэффициент конверсии) —  доля пользователей, которые совершили целевое действие, например, зарегистрировались, подписались на рассылку, оформили покупку. В нашем случае это доля пользователей, которые присоединились к чату Cyprus Data, от числа пользователей, которые получили письмо.

<hr>

[Содержание](#содержание)