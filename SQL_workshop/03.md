# 3. –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ (–∫–æ–º–∞–Ω–¥—ã DML, CRUD)

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

+ [3.1 –ö–æ–º–∞–Ω–¥–∞ INSERT](#31-–∫–æ–º–∞–Ω–¥–∞-insert)
+ [3.2 –ö–æ–º–∞–Ω–¥–∞ SELECT](#32-–∫–æ–º–∞–Ω–¥–∞-select)
+ [3.3 –ö–æ–º–∞–Ω–¥–∞ UPDATE](#33-–∫–æ–º–∞–Ω–¥–∞-update)
+ [3.4 –ö–æ–º–∞–Ω–¥–∞ DELETE](#34-–∫–æ–º–∞–Ω–¥–∞-delete)
+ [3.5 –ë–æ–Ω—É—Å: –°–µ—Ä–≤–∏—Å—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö](#35-–±–æ–Ω—É—Å-—Å–µ—Ä–≤–∏—Å—ã-–¥–ª—è-–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏-–¥–∞–Ω–Ω—ã—Ö)
+ [3.6 –ò–º–ø–æ—Ä—Ç-—ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö](#36-–∏–º–ø–æ—Ä—Ç-—ç–∫—Å–ø–æ—Ä—Ç-–¥–∞–Ω–Ω—ã—Ö)
+ [3.7 –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã](#37-–∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ-–≤–æ–ø—Ä–æ—Å—ã)
+ [3.8 –†–µ—à–∞–µ–º –∑–∞–¥–∞—á–∏. –ü–∏—à–µ–º SQL –∫–æ–¥. –ß–∞—Å—Ç—å 1](#38-—Ä–µ—à–∞–µ–º-–∑–∞–¥–∞—á–∏-–ø–∏—à–µ–º-sql-–∫–æ–¥-—á–∞—Å—Ç—å-1)
+ [3.9 –†–µ—à–∞–µ–º –∑–∞–¥–∞—á–∏. –ü–∏—à–µ–º SQL –∫–æ–¥. –ß–∞—Å—Ç—å 2](#39-—Ä–µ—à–∞–µ–º-–∑–∞–¥–∞—á–∏-–ø–∏—à–µ–º-sql-–∫–æ–¥-—á–∞—Å—Ç—å-2)

[–û–≥–ª–∞–≤–ª–µ–Ω–∏–µ](/SQL_workshop/README.md)

# 3.1 –ö–æ–º–∞–Ω–¥–∞ INSERT

[Video_01](/SQL_workshop/videos/03.01.01.mp4)

[Video_02](/SQL_workshop/videos/03.01.02.mp4)

[Video_03](/SQL_workshop/videos/03.01.03.mp4)

[Video_04](/SQL_workshop/videos/03.01.04.mp4)

[Video_03](/SQL_workshop/videos/03.01.05.mp4)

**–ö–æ–Ω—Å–ø–µ–∫—Ç —É—Ä–æ–∫–∞**

**–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∫–æ–º–∞–Ω–¥–µ INSERT**

+ English: https://dev.mysql.com/doc/refman/8.3/en/insert.html
+ –†—É—Å—Å–∫–∏–π: http://www.mysql.ru/docs/man/INSERT.html
 

**–ö–æ–¥**

```sql
-- DML: INSERT, SELECT, UPDATE, DELETE
-- CRUD

-- –±–∞–∑–æ–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –∫–æ–º–∞–Ω–¥—ã INSERT
INSERT INTO users (id, firstname, lastname, email, phone)
VALUES ('1', 'Kelsie', 'Olson', 'xheidenreich@example.net', '9548492646');

INSERT INTO users (id, firstname, lastname, email, phone)
VALUES ('2', 'Kelsie', 'Olson', 'xheidenreich2@example.net', '9548492642');

-- –æ–ø—Ü–∏—è IGNORE - –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –≤ –¥–∞–Ω–Ω—ã—Ö
INSERT IGNORE INTO users (id, firstname, lastname, email, phone)
VALUES ('3', 'Celestino', 'Cruickshank', 'flavio.hammes@example.com', '9686686728');

-- –º–æ–∂–Ω–æ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å –∞–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–Ω–æ–µ (AUTO_INCREMENT) –ø–æ–ª–µ
INSERT INTO users (firstname, lastname, email, phone)
VALUES ('Celestino', 'Cruickshank', 'flavio.hammes2@example.com', '9686686722');

-- –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–µ –ø–æ –ø–æ—Ä—è–¥–∫—É
INSERT INTO users (id, firstname, lastname, email, phone)
VALUES ('93', 'Gregory', 'Jenkins', 'weimann.richard@example.com', '9860971258');

-- –º–æ–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å NULL –∏–ª–∏ DEFAULT –≤–º–µ—Å—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –ø–æ–ª—è
INSERT INTO users (firstname, lastname, email, phone)
VALUES ('Celestino', 'Cruickshank', DEFAULT, NULL);

-- –¥–æ–±–∞–≤–∏–º –∫–æ–ª–æ–Ω–∫—É is_deleted
ALTER TABLE users ADD COLUMN is_deleted BIT DEFAULT 0;

-- –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –ø–æ–ª—è is_deleted
INSERT INTO users (firstname, lastname, is_deleted)
VALUES ('Celestino', 'Cruickshank', DEFAULT);

-- NULL –¥–ª—è –ø–æ–ª—è is_deleted
INSERT INTO users (firstname, lastname, is_deleted)
VALUES ('Celestino', 'Cruickshank', NULL);

-- –≤—Å—Ç–∞–≤–∏–º –∞–±—Å–æ–ª—é—Ç–Ω–æ –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É
INSERT INTO users ()
VALUES ();

-- –Ω–µ —É–∫–∞–∑—ã–≤–∞–µ–º –∏–º–µ–Ω–∞ –ø–æ–ª–µ–π - –æ—à–∏–±–∫–∞
INSERT INTO users
VALUES ('Celestino', 'Cruickshank', DEFAULT);

-- –Ω–µ —É–∫–∞–∑—ã–≤–∞–µ–º –∏–º–µ–Ω–∞ –ø–æ–ª–µ–π - —Ä–∞–±–æ—á–∏–π –≤–∞—Ä–∏–∞–Ω—Ç
INSERT INTO users
VALUES (101, 'Eleonore', 'Ward', NULL, 'antonietta333@example.com',DEFAULT, 9397815333, '2000.01.01', 0);

-- –ø–µ—Ä–µ–ø—É—Ç–∞–ª–∏ —Ñ–∞–º–∏–ª–∏—é –∏ –ø–æ—á—Ç—É - —Å—Ä–∞–±–æ—Ç–∞–ª–æ
INSERT INTO users (firstname, lastname, email, phone)
VALUES ('Pearl', 'xeichmann@example.net', 'Prohaska', '9136605713');

-- –ø–µ—Ä–µ–ø—É—Ç–∞–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω –∏ –ø–æ—á—Ç—É - –æ—à–∏–±–∫–∞
INSERT INTO users (firstname, lastname, phone, email)
VALUES ('Pearl', 'Prohaska', 'xeichmann@example.net', '9136605713');

-- –ø–∞–∫–µ—Ç–Ω–∞—è –≤—Å—Ç–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö - —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–æ
INSERT INTO users (firstname, lastname, email, phone) VALUES
('Ozella', 'Hauck', 'idickens@example.com', '9773438197'),
('Emmet', 'Hammes', 'qcremin@example.org', '9694110645'),
('Lori', 'Koch', 'damaris34@example.net', '9192291407'),
('Sam', 'Kuphal', 'telly.miller@example.net', '9917826315');

-- –æ–¥–∏–Ω–æ—á–Ω–∞—è –≤—Å—Ç–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö - —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–æ
INSERT INTO users (firstname, lastname, email, phone)
VALUES ('Ozella', 'Hauck', 'idickens2@example.com', '9773438192');
INSERT INTO users (firstname, lastname, email, phone)
VALUES ('Emmet', 'Hammes', 'qcremin2@example.org', '9694110642');
INSERT INTO users (firstname, lastname, email, phone)
VALUES ('Lori', 'Koch', 'damaris342@example.net', '9192291402');
INSERT INTO users (firstname, lastname, email, phone)
VALUES ('Sam', 'Kuphal', 'telly.miller2@example.net', '9917826312');

-- –≤—Ç–æ—Ä–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –∫–æ–º–∞–Ω–¥—ã INSERT (–º–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ 1 —Å—Ç—Ä–æ–∫—É)
INSERT INTO users
SET
    firstname = 'Miguel',
    lastname = 'Watsica',
    email = 'hassan.kuphal@example.org',
    login = 'hassan_kuphal',
    phone = '9824696112'
;

-- INSERT-SELECT
INSERT INTO users
    (firstname, lastname, email, phone)
SELECT
    'Sam2', 'Kuphal2', 'telly.miller222@example.net', '9917826222';

-- INSERT-SELECT
INSERT INTO users (firstname, lastname, email)
SELECT first_name , last_name , email
FROM sakila.staff;

-- –æ–ø—Ü–∏—è ON DUPLICATE KEY UPDATE –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
INSERT INTO users (id, firstname, lastname, email, phone)
VALUES (2, 'Lucile', 'Rolfson', 'dbartell@example.net', 9258387168)
ON DUPLICATE KEY UPDATE
    firstname = 'Lucile',
    lastname = 'Rolfson',
    email = 'dbartell@example.net',
    phone = 9258387168
;
```

<hr>

[–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ](#—Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ)

# 3.2 –ö–æ–º–∞–Ω–¥–∞ SELECT

[Video](/SQL_workshop/videos/03.02.mp4)

**–ö–æ–Ω—Å–ø–µ–∫—Ç —É—Ä–æ–∫–∞**

**–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∫–æ–º–∞–Ω–¥–µ SELECT:**
+ English: https://dev.mysql.com/doc/refman/8.0/en/select.html
+ –†—É—Å—Å–∫–∏–π: http://www.mysql.ru/docs/man/SELECT.html
 

**–ö–æ–¥:**

```sql
-- –í—ã–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞:
SELECT 'Hello world';

-- –≤—ã–≤–µ—Å—Ç–∏ –≤—Å—é —Ç–∞–±–ª–∏—Ü—É users (–≤—Å–µ –ø–æ–ª—è, –≤—Å–µ —Å—Ç—Ä–æ–∫–∏):
SELECT *
FROM users;

-- —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–≤–µ—Å—Ç–∏:
SELECT id, firstname , lastname , login , email , password_hash , phone , birthday , is_deleted
FROM users;
SELECT id, firstname, phone
FROM users;

-- –≤—ã–≤–æ–¥–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –µ–≥–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É:
SELECT *
FROM users
WHERE id = 1;

-- –≤—ã–≤–æ–¥–∏–º –ø–µ—Ä–≤—ã–µ 5 —Å—Ç—Ä–æ–∫ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã:
SELECT *
FROM users
LIMIT 5;

-- —Å–æ—Ä—Ç–∏—Ä—É–µ–º –≤—ã–≤–æ–¥ –ø–æ –ø–æ–ª—é email:
SELECT *
FROM users
ORDER BY email;

-- –≤—ã–≤–æ–¥–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –∏–º–µ–Ω–µ–º:
SELECT count(firstname)
FROM users;

-- –≤—ã–≤–æ–¥–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏:
SELECT count(DISTINCT firstname)
FROM users;

-- –≤—ã–≤–æ–¥–∏–º –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –≤ —Ç–∞–±–ª–∏—Ü–µ:
SELECT COUNT(*)
FROM users;
```

<hr>

[–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ](#—Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ)

# 3.3 –ö–æ–º–∞–Ω–¥–∞ UPDATE

[Video](/SQL_workshop/videos/03.03.mp4)

**–ö–æ–Ω—Å–ø–µ–∫—Ç —É—Ä–æ–∫–∞**

**–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∫–æ–º–∞–Ω–¥–µ UPDATE:**
+ EN: https://dev.mysql.com/doc/refman/8.0/en/update.html
+ RU: http://www.mysql.ru/docs/man/UPDATE.html
 

**–ö–æ–¥**

```sql
-- –ø–µ—Ä–µ–∫–ª—é—á–∏–º—Å—è –Ω–∞ –ë–î telegram –≤ –¥–∞–Ω–Ω–æ–º —Å–∫—Ä–∏–ø—Ç–µ
USE telegram;

-- –≤—Å—Ç–∞–≤–∏–º –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É –≤ —Ç–∞–±–ª–∏—Ü—É channels
-- (—Å–æ–∑–¥–∞–¥–∏–º –Ω–æ–≤—ã–π –∫–∞–Ω–∞–ª)
INSERT INTO channels(title, invite_link, owner_user_id, is_private)
VALUES ('MySQL news', 'https://t.me/mysql_news', 1, true);

-- –≤—Å—Ç–∞–≤–∏–º –Ω–æ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü—É channel_subscribers
-- (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç –∑–∞—è–≤–∫–∏ –Ω–∞ –≤—Å—Ç—É–ø–ª–µ–Ω–∏–µ –≤ –∫–∞–Ω–∞–ª)
INSERT INTO channel_subscribers(channel_id, user_id, status)
VALUES (1, 2, 'requested');
INSERT INTO channel_subscribers(channel_id, user_id, status)
VALUES (1, 3, 'requested');
INSERT INTO channel_subscribers(channel_id, user_id, status)
VALUES (1, 4, 'requested');

-- –æ–±–Ω–æ–≤–∏—Ç –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ channel_subscribers (–ø–ª–æ—Ö–æ!)
UPDATE channel_subscribers
SET
    status = 'joined';

-- –∞–¥–º–∏–Ω –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞ –≤ –∫–∞–Ω–∞–ª
UPDATE channel_subscribers
SET
    status = 'joined'
WHERE channel_id = 1 AND user_id = 2;

UPDATE channel_subscribers
SET
    status = 'joined'
WHERE channel_id = 1 AND user_id = 3;

-- –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–∫–∏–¥–∞–µ—Ç –∫–∞–Ω–∞–ª
UPDATE channel_subscribers
SET
    status = 'left'
WHERE channel_id = 1 AND user_id = 2;

-- –¥–æ–±–∞–≤–∏–º –Ω–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å '—É–¥–∞–ª–µ–Ω'
ALTER TABLE channel_subscribers
MODIFY COLUMN status ENUM('requested', 'joined', 'left', 'removed');

-- –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —É–¥–∞–ª–∏–ª–∏ –∏–∑ –∫–∞–Ω–∞–ª–∞
UPDATE channel_subscribers
SET
    status = 'removed'
WHERE channel_id = 1 AND user_id = 4;

-- –ø–µ—Ä–µ–∏–º–µ–Ω—É–µ–º –∫–∞–Ω–∞–ª
UPDATE channels
SET title = 'General SQL news'
WHERE id = 1;
```

<hr>

[–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ](#—Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ)

# 3.4 –ö–æ–º–∞–Ω–¥–∞ DELETE

[Video_01](/SQL_workshop/videos/03.04.01.mp4)

[Video_02](/SQL_workshop/videos/03.04.02.mp4)

**–ö–æ–Ω—Å–ø–µ–∫—Ç —É—Ä–æ–∫–∞**

**–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏**

–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∫–æ–º–∞–Ω–¥–µ DELETE:
+ EN: https://dev.mysql.com/doc/refman/8.0/en/delete.html
+ RU: http://www.mysql.ru/docs/man/delete.html

–û–±—Å—É–∂–¥–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –≤–Ω–µ—à–Ω–∏–º–∏ –∫–ª—é—á–∞–º–∏ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏:
+ https://stackoverflow.com/questions/9348401/unable-to-delete-a-record-due-to-foreign-key-restriction
 

**–ö–æ–¥**

```sql
-- –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö (–¥–æ–±–∞–≤–ª—è–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏–π –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏)
INSERT INTO `private_messages`(sender_id, receiver_id, media_type, body, filename, created_at)
VALUES
(1,2,'text','Eveniet suscipit ullam occaecati consequatur hic. Nulla est in molestiae odit. Placeat perferendis consequatur qui omnis id vel autem.','officiis','2010-04-07 09:01:02'),
(2,1,'audio','Non repudiandae maiores molestiae vel doloribus. Quis facere blanditiis est magnam est ut vero.','qui','1971-05-29 07:31:20'),
(1,3,'text','Voluptas qui consequatur quae sunt et consequatur. Rem alias sed cupiditate explicabo voluptate. Officiis repellat porro accusamus eveniet quos. Laborum dolores sed enim aut.','excepturi','1998-10-28 20:08:01'),
(1,4,'video','Est delectus tempora exercitationem atque tempora reiciendis nulla voluptatem. Cupiditate non fugit blanditiis quasi ad et autem expedita. Aut est provident odio quasi possimus.','vitae','2001-12-03 15:54:43'),
(1,2,'video','Est ducimus amet et asperiores. Reiciendis debitis qui ipsa. Nemo laboriosam ea aut omnis voluptates quisquam accusantium. Quibusdam totam similique aut.','optio','1970-09-18 20:39:35'),
(1,2,'video','Quis cupiditate quis maxime et placeat consectetur ut quis. Voluptas unde voluptatem deserunt in dolorum maxime. Sunt fugiat sit tenetur placeat at.','laboriosam','1980-05-11 03:39:43'),
(2,1,'audio','Voluptatum nihil rem laboriosam delectus aperiam consequuntur et modi. Laudantium molestias corporis quo omnis ut ea. At minima iure et voluptatum culpa deleniti non. Sint laboriosam molestias dolor vel. Quibusdam omnis quas ullam dolor.','sit','1988-08-19 10:30:44'),
(2,4,'audio','Nemo eos sed aspernatur voluptates perspiciatis tenetur. Voluptas sunt magnam vero nam earum. Magnam eum vitae qui. Vel atque accusantium in non rem non et.','consectetur','1984-06-28 16:22:44'),
(4,5,'audio','Quod nihil possimus id qui. Quasi officia rerum eum doloribus est voluptas maxime. Et debitis enim non enim fugit.','repellat','1981-12-11 16:04:11'),
(3,1,'text','Qui voluptatem earum temporibus rem vel sequi. Et quasi vel qui est autem aliquam. Modi est voluptatem aut rerum ea velit. Voluptate et eligendi debitis nostrum nihil dolorum.','nihil','1988-02-16 13:29:14'),
(3,2,'image','Rem et ullam cum vitae autem reprehenderit quia. Enim a ipsam id ut aliquam est error. Quis dolorum omnis expedita eaque maiores illo.','et','2015-04-07 18:02:42')
;

-- —É–¥–∞–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–æ–º–µ—Ä 1 –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –Ω–æ–º–µ—Ä 2
DELETE FROM private_messages
WHERE sender_id = 1 AND receiver_id = 2;

-- –ø—Ä–æ–±—É–µ–º —É–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–æ–º–µ—Ä 3
DELETE FROM users
WHERE id = 3;

-- —Å–Ω–∞—á–∞–ª–∞ —É–¥–∞–ª—è–µ–º –µ–≥–æ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∫–∞–Ω–∞–ª—ã
DELETE FROM channel_subscribers
WHERE user_id = 3;

-- —É–¥–∞–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–æ–º–µ—Ä 3
DELETE FROM private_messages
WHERE sender_id = 3 OR receiver_id = 3;

-- –¥–æ–±–∞–≤–∏–º —Ñ–ª–∞–≥ –¥–ª—è —É–¥–∞–ª–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (–≤–º–µ—Å—Ç–æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è —Å—Ç—Ä–æ–∫)
ALTER TABLE private_messages ADD COLUMN is_deleted BIT NOT NULL DEFAULT 0;

-- –æ—Ç–º–µ—á–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è —É–¥–∞–ª–µ–Ω–Ω—ã–º–∏
UPDATE private_messages
SET is_deleted = 1
WHERE sender_id = 2 AND receiver_id = 1;

-- —É–¥–∞–ª—è–µ–º –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–æ–±—â–µ–Ω–∏–π
DELETE FROM private_messages;

-- –ø–µ—Ä–µ—Å–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É —Å–æ–æ–±—â–µ–Ω–∏–π (DROP-CREATE)
TRUNCATE private_messages;
```

<hr>

[–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ](#—Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ)

# 3.5 –ë–æ–Ω—É—Å: –°–µ—Ä–≤–∏—Å—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö

[Video_01](/SQL_workshop/videos/03.05.01.mp4)

[Video_02](/SQL_workshop/videos/03.05.02.mp4)

**–ö–æ–Ω—Å–ø–µ–∫—Ç —É—Ä–æ–∫–∞**

**–°–µ—Ä–≤–∏—Å—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö:**
+ http://filldb.info/
+ http://www.generatedata.com/
+ https://sourceforge.net/p/benerator/wiki/Home/
+ http://www.dominicgiles.com/datagenerator.html
 

**–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è —ç–º–æ–¥–∑–∏ —Å –∫–æ–¥–∞–º–∏ —Å–∏–º–≤–æ–ª–æ–≤:**
+ https://emojidb.org/utf-8-emojis
 

**–ö–æ–¥**

+ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ filldb.info —Å–∫—Ä–∏–ø—Ç—ã: https://github.com/pragmatic-programmer-education/MySQL_Basics/tree/main/filldb_info
+ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–æ–µ–∫—Ç–∞: https://github.com/pragmatic-programmer-education/MySQL_Basics/
+ –û—Å–Ω–æ–≤–Ω–æ–π –¥–∞–º–ø –ë–î telegram: https://stepik.org/media/attachments/lesson/1261094/fulldb-26-03-2024-21-11-beta_v2.sql

<hr>

[–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ](#—Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ)

# 3.6 –ò–º–ø–æ—Ä—Ç-—ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

[Video](/SQL_workshop/videos/03.06.mp4)

**–ö–æ–Ω—Å–ø–µ–∫—Ç —É—Ä–æ–∫–∞**

**–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏**
+ –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —É—Ç–∏–ª–∏—Ç–µ mysqldump: https://dev.mysql.com/doc/refman/8.0/en/mysqldump.html
+ –°—Ç–∞—Ç—å—è –Ω–∞ –•–∞–±—Ä–µ –Ω–∞ —Ç–µ–º—É mysqldump: https://habr.com/ru/companies/cloud4y/articles/715172/
+ –û–ø–∏—Å–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ CSV: https://ru.wikipedia.org/wiki/CSV
 

**–ö–æ–¥ (–ø—Ä–∏–º–µ—Ä—ã —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö DML-–∫–æ–º–∞–Ω–¥)**

```sql
SELECT id, firstname, lastname, login, email, password_hash, phone, birthday
FROM users;

INSERT INTO telegram.users
    (firstname, lastname, login, email, password_hash, phone, birthday)
VALUES('', '', '', '', '', 0, '');

UPDATE telegram.users
SET firstname='', lastname='', login='', email='', password_hash='', phone=0, birthday=''
WHERE id=0;

DELETE FROM telegram.users
WHERE id=0;
```

<hr>

[–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ](#—Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ)

# 3.7 –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã

<hr>

[–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ](#—Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ)

# 3.8 –†–µ—à–∞–µ–º –∑–∞–¥–∞—á–∏. –ü–∏—à–µ–º SQL –∫–æ–¥. –ß–∞—Å—Ç—å 1

–ù–∞—á–∞–ª—å—Å—Ç–≤–æ –¥—É–º–∞–µ—Ç –æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏ —Å–ø–∏—Å–∫–∞ –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ä–µ–∞–∫—Ü–∏–π (—ç–º–æ–¥–∑–∏). –ò –¥–ª—è –Ω–∞—á–∞–ª–∞ –∏–º –Ω—É–∂–Ω–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –Ω–∞ —Ç–µ–∫—É—â–∏–π –º–æ–º–µ–Ω—Ç —Ä–µ–∞–∫—Ü–∏–π. –û–Ω–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ reactions_list.

–í—ã–≤–µ–¥–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —ç–º–æ–¥–∑–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ reactions_list.

–í–∏–¥ —Ç–∞–±–ª–∏—Ü—ã `reactions_list`:

```sql
CREATE TABLE reactions_list (
	id SERIAL,
	code VARCHAR(1)
)DEFAULT CHARSET=utf8mb4 COLLATE utf8mb4_unicode_ci;
```

```sql
SELECT *
FROM reactions_list
```

```
+----+------+
| id | code |
+----+------+
| 1  | üëç   |
| 2  | üëé   |
| 3  | üôÇ   |
| 4  | üò¢   |
| 5  | üòã   |
| 6  | üò°   |
| 7  | üî•   |
| 8  | ‚ù§Ô∏è   |
| 9  | üñêÔ∏è   |
| 10 | üôÉ   |
+----+------+
```
<hr>

[–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ](#—Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ)

# 3.9 –†–µ—à–∞–µ–º –∑–∞–¥–∞—á–∏. –ü–∏—à–µ–º SQL –∫–æ–¥. –ß–∞—Å—Ç—å 2

<hr>

[–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ](#—Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ)
